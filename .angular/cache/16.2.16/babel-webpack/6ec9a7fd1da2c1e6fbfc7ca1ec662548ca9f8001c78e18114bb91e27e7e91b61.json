{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../loan.service\";\nimport * as i2 from \"@angular/material/table\";\nfunction LoanComponent_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Loan ID \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanComponent_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r12.loan.id, \" \");\n  }\n}\nfunction LoanComponent_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Loan Amount \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanComponent_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r13.loan.loanAmount, \" \");\n  }\n}\nfunction LoanComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Account Holder Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r14.accountHolderName, \" \");\n  }\n}\nfunction LoanComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Account Number \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r15.accountNumber, \" \");\n  }\n}\nfunction LoanComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r16.loan.status, \" \");\n  }\n}\nfunction LoanComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 12);\n  }\n}\nfunction LoanComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 13);\n  }\n}\nexport class LoanComponent {\n  constructor(loanService) {\n    this.loanService = loanService;\n    this.accountId = 2; // Example account ID, replace with actual\n    // Define the displayed columns for the table\n    this.displayedColumns = ['id', 'loanAmount', 'status'];\n  }\n  ngOnInit() {\n    this.loadLoans();\n  }\n  loadLoans() {\n    this.loanService.getLoansForAccount(this.accountId).subscribe(data => {\n      this.loans = [data]; // Wrap data in an array if it's a single object\n    });\n  }\n\n  applyForLoan(amount, interestRate, tenure) {\n    this.loanService.applyForLoan(this.accountId, amount, interestRate, tenure).subscribe(() => {\n      // this.loadLoans(); // Reload loans after applying\n    });\n  }\n  approveLoan(loanId) {\n    this.loanService.approveLoan(loanId).subscribe(() => {\n      this.loadLoans(); // Reload loans after approval\n    });\n  }\n\n  static {\n    this.ɵfac = function LoanComponent_Factory(t) {\n      return new (t || LoanComponent)(i0.ɵɵdirectiveInject(i1.LoanService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoanComponent,\n      selectors: [[\"app-loan\"]],\n      decls: 18,\n      vars: 3,\n      consts: [[\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"loanAmount\"], [\"matColumnDef\", \"accountHolderName\"], [\"matColumnDef\", \"accountNumber\"], [\"matColumnDef\", \"status\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function LoanComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"table\", 0);\n          i0.ɵɵelementContainerStart(1, 1);\n          i0.ɵɵtemplate(2, LoanComponent_th_2_Template, 2, 0, \"th\", 2);\n          i0.ɵɵtemplate(3, LoanComponent_td_3_Template, 2, 1, \"td\", 3);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(4, 4);\n          i0.ɵɵtemplate(5, LoanComponent_th_5_Template, 2, 0, \"th\", 2);\n          i0.ɵɵtemplate(6, LoanComponent_td_6_Template, 2, 1, \"td\", 3);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(7, 5);\n          i0.ɵɵtemplate(8, LoanComponent_th_8_Template, 2, 0, \"th\", 2);\n          i0.ɵɵtemplate(9, LoanComponent_td_9_Template, 2, 1, \"td\", 3);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(10, 6);\n          i0.ɵɵtemplate(11, LoanComponent_th_11_Template, 2, 0, \"th\", 2);\n          i0.ɵɵtemplate(12, LoanComponent_td_12_Template, 2, 1, \"td\", 3);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(13, 7);\n          i0.ɵɵtemplate(14, LoanComponent_th_14_Template, 2, 0, \"th\", 2);\n          i0.ɵɵtemplate(15, LoanComponent_td_15_Template, 2, 1, \"td\", 3);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(16, LoanComponent_tr_16_Template, 1, 0, \"tr\", 8);\n          i0.ɵɵtemplate(17, LoanComponent_tr_17_Template, 1, 0, \"tr\", 9);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"dataSource\", ctx.loans);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        }\n      },\n      dependencies: [i2.MatTable, i2.MatHeaderCellDef, i2.MatHeaderRowDef, i2.MatColumnDef, i2.MatCellDef, i2.MatRowDef, i2.MatHeaderCell, i2.MatCell, i2.MatHeaderRow, i2.MatRow],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","loan_r12","loan","id","loan_r13","loanAmount","loan_r14","accountHolderName","loan_r15","accountNumber","loan_r16","status","ɵɵelement","LoanComponent","constructor","loanService","accountId","displayedColumns","ngOnInit","loadLoans","getLoansForAccount","subscribe","data","loans","applyForLoan","amount","interestRate","tenure","approveLoan","loanId","ɵɵdirectiveInject","i1","LoanService","selectors","decls","vars","consts","template","LoanComponent_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtemplate","LoanComponent_th_2_Template","LoanComponent_td_3_Template","ɵɵelementContainerEnd","LoanComponent_th_5_Template","LoanComponent_td_6_Template","LoanComponent_th_8_Template","LoanComponent_td_9_Template","LoanComponent_th_11_Template","LoanComponent_td_12_Template","LoanComponent_th_14_Template","LoanComponent_td_15_Template","LoanComponent_tr_16_Template","LoanComponent_tr_17_Template","ɵɵproperty"],"sources":["F:\\MyProjects\\bank-payment-frontend\\src\\app\\loan\\loan.component.ts","F:\\MyProjects\\bank-payment-frontend\\src\\app\\loan\\loan.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { LoanService } from '../loan.service';\n\n@Component({\n  selector: 'app-loan',\n  templateUrl: './loan.component.html',\n  styleUrls: ['./loan.component.css']\n})\nexport class LoanComponent implements OnInit {\n  loans: any;\n  loanAmount:any;\n  loanInterestRate:any;\n  loanTenure:any;\n  accountId: number = 2; // Example account ID, replace with actual\n\n    // Define the displayed columns for the table\n  displayedColumns: string[] = ['id', 'loanAmount', 'status'];\n\n\n  constructor(private loanService: LoanService) {}\n\n  ngOnInit(): void {\n    this.loadLoans();\n  }\n\n  loadLoans() {\n    this.loanService.getLoansForAccount(this.accountId).subscribe((data) => {\n      this.loans = [data]; // Wrap data in an array if it's a single object\n    });\n  }\n\n  applyForLoan(amount: number, interestRate: number, tenure: number) {\n    this.loanService.applyForLoan(this.accountId, amount, interestRate, tenure).subscribe(() => {\n      // this.loadLoans(); // Reload loans after applying\n    });\n  }\n\n  approveLoan(loanId: number) {\n    this.loanService.approveLoan(loanId).subscribe(() => {\n      this.loadLoans(); // Reload loans after approval\n    });\n  }\n}\n","<!-- Loans Table -->\n<table mat-table [dataSource]=\"loans\">\n  <ng-container matColumnDef=\"id\">\n    <th mat-header-cell *matHeaderCellDef> Loan ID </th>\n    <td mat-cell *matCellDef=\"let loan\"> {{ loan.loan.id }} </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"loanAmount\">\n    <th mat-header-cell *matHeaderCellDef> Loan Amount </th>\n    <td mat-cell *matCellDef=\"let loan\"> {{ loan.loan.loanAmount }} </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"accountHolderName\">\n    <th mat-header-cell *matHeaderCellDef> Account Holder Name </th>\n    <td mat-cell *matCellDef=\"let loan\"> {{ loan.accountHolderName }} </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"accountNumber\">\n    <th mat-header-cell *matHeaderCellDef> Account Number </th>\n    <td mat-cell *matCellDef=\"let loan\"> {{ loan.accountNumber }} </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"status\">\n    <th mat-header-cell *matHeaderCellDef> Status </th>\n    <td mat-cell *matCellDef=\"let loan\"> {{ loan.loan.status }} </td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>\n"],"mappings":";;;;;ICGIA,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IACpDH,EAAA,CAAAC,cAAA,aAAoC;IAACD,EAAA,CAAAE,MAAA,GAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAxBH,EAAA,CAAAI,SAAA,GAAmB;IAAnBJ,EAAA,CAAAK,kBAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAC,EAAA,MAAmB;;;;;IAIxDR,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,oBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IACxDH,EAAA,CAAAC,cAAA,aAAoC;IAACD,EAAA,CAAAE,MAAA,GAA2B;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAhCH,EAAA,CAAAI,SAAA,GAA2B;IAA3BJ,EAAA,CAAAK,kBAAA,MAAAI,QAAA,CAAAF,IAAA,CAAAG,UAAA,MAA2B;;;;;IAIhEV,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,4BAAoB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAChEH,EAAA,CAAAC,cAAA,aAAoC;IAACD,EAAA,CAAAE,MAAA,GAA6B;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAlCH,EAAA,CAAAI,SAAA,GAA6B;IAA7BJ,EAAA,CAAAK,kBAAA,MAAAM,QAAA,CAAAC,iBAAA,MAA6B;;;;;IAIlEZ,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,uBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAC3DH,EAAA,CAAAC,cAAA,aAAoC;IAACD,EAAA,CAAAE,MAAA,GAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA9BH,EAAA,CAAAI,SAAA,GAAyB;IAAzBJ,EAAA,CAAAK,kBAAA,MAAAQ,QAAA,CAAAC,aAAA,MAAyB;;;;;IAI9Dd,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IACnDH,EAAA,CAAAC,cAAA,aAAoC;IAACD,EAAA,CAAAE,MAAA,GAAuB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA5BH,EAAA,CAAAI,SAAA,GAAuB;IAAvBJ,EAAA,CAAAK,kBAAA,MAAAU,QAAA,CAAAR,IAAA,CAAAS,MAAA,MAAuB;;;;;IAG9DhB,EAAA,CAAAiB,SAAA,aAA4D;;;;;IAC5DjB,EAAA,CAAAiB,SAAA,aAAkE;;;ADpBpE,OAAM,MAAOC,aAAa;EAWxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAN/B,KAAAC,SAAS,GAAW,CAAC,CAAC,CAAC;IAErB;IACF,KAAAC,gBAAgB,GAAa,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC;EAGZ;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACJ,WAAW,CAACK,kBAAkB,CAAC,IAAI,CAACJ,SAAS,CAAC,CAACK,SAAS,CAAEC,IAAI,IAAI;MACrE,IAAI,CAACC,KAAK,GAAG,CAACD,IAAI,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC;EACJ;;EAEAE,YAAYA,CAACC,MAAc,EAAEC,YAAoB,EAAEC,MAAc;IAC/D,IAAI,CAACZ,WAAW,CAACS,YAAY,CAAC,IAAI,CAACR,SAAS,EAAES,MAAM,EAAEC,YAAY,EAAEC,MAAM,CAAC,CAACN,SAAS,CAAC,MAAK;MACzF;IAAA,CACD,CAAC;EACJ;EAEAO,WAAWA,CAACC,MAAc;IACxB,IAAI,CAACd,WAAW,CAACa,WAAW,CAACC,MAAM,CAAC,CAACR,SAAS,CAAC,MAAK;MAClD,IAAI,CAACF,SAAS,EAAE,CAAC,CAAC;IACpB,CAAC,CAAC;EACJ;;;;uBAjCWN,aAAa,EAAAlB,EAAA,CAAAmC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAAbnB,aAAa;MAAAoB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCP1B5C,EAAA,CAAAC,cAAA,eAAsC;UACpCD,EAAA,CAAA8C,uBAAA,MAAgC;UAC9B9C,EAAA,CAAA+C,UAAA,IAAAC,2BAAA,gBAAoD;UACpDhD,EAAA,CAAA+C,UAAA,IAAAE,2BAAA,gBAA6D;UAC/DjD,EAAA,CAAAkD,qBAAA,EAAe;UAEflD,EAAA,CAAA8C,uBAAA,MAAwC;UACtC9C,EAAA,CAAA+C,UAAA,IAAAI,2BAAA,gBAAwD;UACxDnD,EAAA,CAAA+C,UAAA,IAAAK,2BAAA,gBAAqE;UACvEpD,EAAA,CAAAkD,qBAAA,EAAe;UAEflD,EAAA,CAAA8C,uBAAA,MAA+C;UAC7C9C,EAAA,CAAA+C,UAAA,IAAAM,2BAAA,gBAAgE;UAChErD,EAAA,CAAA+C,UAAA,IAAAO,2BAAA,gBAAuE;UACzEtD,EAAA,CAAAkD,qBAAA,EAAe;UAEflD,EAAA,CAAA8C,uBAAA,OAA2C;UACzC9C,EAAA,CAAA+C,UAAA,KAAAQ,4BAAA,gBAA2D;UAC3DvD,EAAA,CAAA+C,UAAA,KAAAS,4BAAA,gBAAmE;UACrExD,EAAA,CAAAkD,qBAAA,EAAe;UAEflD,EAAA,CAAA8C,uBAAA,OAAoC;UAClC9C,EAAA,CAAA+C,UAAA,KAAAU,4BAAA,gBAAmD;UACnDzD,EAAA,CAAA+C,UAAA,KAAAW,4BAAA,gBAAiE;UACnE1D,EAAA,CAAAkD,qBAAA,EAAe;UAEflD,EAAA,CAAA+C,UAAA,KAAAY,4BAAA,gBAA4D;UAC5D3D,EAAA,CAAA+C,UAAA,KAAAa,4BAAA,gBAAkE;UACpE5D,EAAA,CAAAG,YAAA,EAAQ;;;UA5BSH,EAAA,CAAA6D,UAAA,eAAAhB,GAAA,CAAAjB,KAAA,CAAoB;UA0Bf5B,EAAA,CAAAI,SAAA,IAAiC;UAAjCJ,EAAA,CAAA6D,UAAA,oBAAAhB,GAAA,CAAAvB,gBAAA,CAAiC;UACpBtB,EAAA,CAAAI,SAAA,GAA0B;UAA1BJ,EAAA,CAAA6D,UAAA,qBAAAhB,GAAA,CAAAvB,gBAAA,CAA0B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}